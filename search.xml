<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Kali Linux无线渗透初探]]></title>
    <url>%2F2019%2F04%2F06%2FKali%20Linux%E6%97%A0%E7%BA%BF%E6%B8%97%E9%80%8F%E5%88%9D%E6%8E%A2%2F</url>
    <content type="text"><![CDATA[新购入无线网卡一枚，用于学习kali linux下的无线渗透内容。前期准备工作不多赘述，直接进入实操实战阶段。 前期渗透阶段启用无线网卡1$ ifconfig wlan0 up 开启网卡监听模式1$ airmon-ng start wlan0 输入ifconfig命令查看网卡名称变为wlan0mon；输入iwconfig命令确认mode为monitor模式。 扫描附近wifi热点1$ airodump-ng wlan0mon BSSID是路由器MAC地址，CH是无线信道。 对目标路由器进行抓包1$ airodump-ng -c 1 --bssid ff:ff:ff:ff:ff:ff -w cap wlan0mon -c：信道–bssid：路由器MAC地址-w：指定抓到的包存放文件 此时可查看路由器接入的设备MAC地址，但是无法抓取设备发送到路由器的密码认证数据包，需要将目标设备踢下线自动重连，抓取认证握手包。 将目标设备踢下线1$ aireplay-ng -0 10 -a ff:ff:ff:ff:ff:ff -c 00:00:00:00:00:00 wlan0mon -0：发送n条认证消息-a：路由器MAC地址-c：目标设备MAC地址 看到[WPA handshark:]代表成功抓取认证握手数据包。保存的文件目录中有cap-01.cap文件，通过爆破方式可解密认证密码。 密码爆破1$ aircrack-ng cap-01.cap -w password.txt 内网漫游接下来要对目标设备进行进一步攻击，如ARP欺骗、DNS劫持，等。 关闭网卡监听模式1$ airmon-ng stop wlan0mon 用爆破得到的密码连入目标无线网络，查看获取的IP地址，可推断出网关地址。 用nmap扫描内网就可获取已接入的主机信息。 nmap扫描主机1$ nmap -sP 192.168.1.1/24 选择一台目标靶机，并开启流量转发功能，使靶机流量先经过kali再到路由器。 流量转发1$ echo 1 &gt; /proc/sys/net/ipv4/ip_forward 然后cat /proc/sys/net/ipv4/ip_forward，如果返回1代表流量转发成功。 对靶机进行ARP欺骗1$ arpspoof -i wlan0 -t 192.168.1.3 -r 192.168.1.1 -i：网卡名称-t：目标靶机IP地址-r：网关IP地址 此时已成功完成中间人攻击，可获取靶机到路由器的全部流量信息，可使用其他工具分析流量信息。 使用driftnet监听浏览的图片1$ driftnet -i wlan0 使用wireshark分析包内容，或抓取账号密码1$ wireshark &amp; DNS劫持首先添加一条解析 1$ vi /etc/ettercap/etter.dns 例：www.google.com A 1.1.1.1 然后打开ettercap，[sniff]&gt;[Unified sniffing]，选择wlan0网卡，[Plugins]&gt;[Manage the plugins]，双击dns_spoof模块，最后[start]&gt;[start sniffing]。此时靶机打开google会解析到1.1.1.1，成功完成DNS劫持。 以上攻击时建立在http协议上，对于https协议，可使用sslstrip对https进行降级，但会导致浏览器提示证书报错，对https协议攻击会另写一篇进行说明。]]></content>
      <categories>
        <category>无线网络渗透</category>
      </categories>
      <tags>
        <tag>无线渗透测试</tag>
      </tags>
  </entry>
</search>
